{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchingRequest(param) {\n  return fetch(`https://pixabay.com/api/?${param}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => console.log(error));\n}\n","const imagesList = document.querySelector('.images-list');\nexport function renderImages(imagesData) {\n  const markUp = imagesData.hits\n    .map(image => {\n      return `\n        <li class=\"images-item\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=360 height=202>\n            </a>\n\n            <div class=\"images-titels\">\n                <p><b>Likes</b> ${image.likes}</p>\n                <p><b>Views</b> ${image.views}</p>\n                <p><b>Comments</b> ${image.comments}</p>\n                <p><b>Downloads</b> ${image.downloads}</p>\n            </div>\n        </li>\n        `;\n    })\n    .join('');\n  imagesList.insertAdjacentHTML('beforeend', markUp);\n}\n","import { searchingRequest } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst imagesList = document.querySelector('.images-list');\nconst lightbox = new SimpleLightbox('.images-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nlet searchParam = {\n  key: '45237174-16156409efac0dde2d7dc0545',\n  q: null,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst iziToastError = {\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  color: 'red',\n  position: 'center',\n  progressBar: false,\n};\n\nconst iziToastWarning = {\n  message: 'Please fill the search field',\n  color: 'yellow',\n  position: 'center',\n  progressBar: false,\n};\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  searchParam.q = event.target.elements.search_key.value.trim();\n  event.target.elements.search_key.value = '';\n  imagesList.innerHTML = '';\n\n  if (searchParam.q === null || searchParam.q === '') {\n    iziToast.warning(iziToastWarning);\n    return;\n  }\n\n  loader.style.display = 'block';\n  searchingRequest(new URLSearchParams(searchParam))\n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        iziToast.error(iziToastError);\n        loader.style.display = 'none';\n        return;\n      }\n\n      renderImages(imagesData);\n\n      loader.style.display = 'none';\n\n      lightbox.on('show.simplelightbox', function () {});\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error));\n});\n"],"names":["searchingRequest","param","response","error","imagesList","renderImages","imagesData","markUp","image","form","loader","lightbox","SimpleLightbox","searchParam","iziToastError","iziToastWarning","event","iziToast"],"mappings":"6vBAAO,SAASA,EAAiBC,EAAO,CACtC,OAAO,MAAM,4BAA4BA,CAAK,EAAE,EAC7C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCTA,MAAMC,EAAa,SAAS,cAAc,cAAc,EACjD,SAASC,EAAaC,EAAY,CACvC,MAAMC,EAASD,EAAW,KACvB,IAAIE,GACI;AAAA;AAAA,uBAEUA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,kCAIhCA,EAAM,KAAK;AAAA,kCACXA,EAAM,KAAK;AAAA,qCACRA,EAAM,QAAQ;AAAA,sCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIhD,EACA,KAAK,EAAE,EACVJ,EAAW,mBAAmB,YAAaG,CAAM,CACnD,CCdA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCN,EAAa,SAAS,cAAc,cAAc,EAClDO,EAAW,IAAIC,EAAe,iBAAkB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,IAAIC,EAAc,CAChB,IAAK,qCACL,EAAG,KACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEA,MAAMC,EAAgB,CACpB,QACE,2EACF,MAAO,MACP,SAAU,SACV,YAAa,EACf,EAEMC,EAAkB,CACtB,QAAS,+BACT,MAAO,SACP,SAAU,SACV,YAAa,EACf,EAEAN,EAAK,iBAAiB,SAAUO,GAAS,CAMvC,GALAA,EAAM,eAAc,EACpBH,EAAY,EAAIG,EAAM,OAAO,SAAS,WAAW,MAAM,OACvDA,EAAM,OAAO,SAAS,WAAW,MAAQ,GACzCZ,EAAW,UAAY,GAEnBS,EAAY,IAAM,MAAQA,EAAY,IAAM,GAAI,CAClDI,EAAS,QAAQF,CAAe,EAChC,MACD,CAEDL,EAAO,MAAM,QAAU,QACvBV,EAAiB,IAAI,gBAAgBa,CAAW,CAAC,EAC9C,KAAKP,GAAc,CAClB,GAAIA,EAAW,QAAU,EAAG,CAC1BW,EAAS,MAAMH,CAAa,EAC5BJ,EAAO,MAAM,QAAU,OACvB,MACD,CAEDL,EAAaC,CAAU,EAEvBI,EAAO,MAAM,QAAU,OAEvBC,EAAS,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACjDA,EAAS,QAAO,CACtB,CAAK,EACA,MAAMR,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAAC"}